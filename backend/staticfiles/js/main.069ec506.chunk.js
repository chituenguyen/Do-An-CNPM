(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(22),c=n.n(a),s=(n(76),n(115)),i=n(116),o=n(59),d=n(0);var l=function(){return Object(d.jsx)("div",{children:Object(d.jsx)(s.a,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(o.a,{className:"text-center py-3",children:"Copyright \xa9 Google"})})})})},j=n(8),u=(n(78),n(9)),p=n(5),h=n(7),b=n.n(h),O=n(10),x="USER_LOGIN_REQUEST",m="USER_LOGIN_SUCCESS",f="USER_LOGIN_FAIL",g="USER_LOGOUT",y="USER_REGISTER_REQUEST",v="USER_REGISTER_SUCCESS",I="USER_REGISTER_FAIL",_="USER_GET_PROFILE_REQUEST",E="USER_GET_PROFILE_SUCCESS",S="USER_GET_PROFILE_FAIL",C=n(11),L=n.n(C),k=function(){return Object(d.jsxs)("div",{className:"navbar-account",children:[Object(d.jsx)("i",{class:"fas fa-users navbar-account-user"}),Object(d.jsxs)("div",{className:"navbar-account-io",children:[Object(d.jsxs)("p",{className:"navbar-logio",children:[Object(d.jsx)("a",{href:"/#/login",children:"Sign in"})," / ",Object(d.jsx)("a",{href:"/#/register",children:"sign up"})]}),Object(d.jsxs)("p",{className:"navbar-account-nick",children:["Account",Object(d.jsx)("i",{class:"fas fa-sort-down"})]})]})]})},R=function(e){var t=e.avatar,n=Object(p.b)(),a=Object(p.c)((function(e){return e.userLogin})),c=Object(p.c)((function(e){return e.userRegister})).userInfo,s=a.userInfo;null!==c&&(s=c);var i=Object(r.useState)("hide"),o=Object(j.a)(i,2),l=o[0],h=o[1];return Object(d.jsxs)("div",{className:"navbar-user",onClick:function(){h("hide"===l?"show":"hide")},children:[Object(d.jsx)("img",{src:t[0].img,alt:t[0].name,className:"navbar-user-img"}),Object(d.jsx)("span",{className:"navbar-user-name",children:s.name}),"show"===l?Object(d.jsxs)("ul",{className:"navbar-user-menu",children:[Object(d.jsx)("li",{children:Object(d.jsxs)(u.Link,{to:"/profile",children:[Object(d.jsx)("i",{class:"fas fa-user-alt"}),"Profile"]})}),s.is_Admin?Object(d.jsxs)("div",{children:[Object(d.jsx)("li",{children:Object(d.jsxs)(u.Link,{to:"/admin/order",children:[Object(d.jsx)("i",{class:"fas fa-money-bill"}),"List Order"]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(u.Link,{to:"/admin/users",children:[Object(d.jsx)("i",{class:"fas fa-money-bill"}),"List Users"]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(u.Link,{to:"/admin/products",children:[Object(d.jsx)("i",{class:"fas fa-money-bill"}),"List Products"]})})]}):"",Object(d.jsx)("li",{children:Object(d.jsxs)("a",{onClick:function(){n(function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),t({type:g});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(d.jsx)("i",{class:"fas fa-sign-out-alt"}),"Logout"]})})]}):""]})};var w=function(){var e=Object(p.c)((function(e){return e.userLogin})),t=Object(p.c)((function(e){return e.userRegister})).userInfo,n=e.userInfo;return null!==t&&(n=t),Object(d.jsxs)("header",{children:[Object(d.jsxs)(u.Link,{to:"/",class:"logo",children:[Object(d.jsx)("i",{class:"fas fa-utensils"}),"Konoha"]}),Object(d.jsxs)("nav",{class:"navbar",children:[Object(d.jsx)("a",{class:"active",href:"#",children:"home"}),Object(d.jsx)(u.Link,{to:"/",children:"dishes"}),Object(d.jsx)(u.Link,{to:"/",children:"about"}),Object(d.jsx)(u.Link,{to:"/",children:"menu"}),Object(d.jsx)(u.Link,{to:"/",children:"review"})]}),n?Object(d.jsx)(R,{avatar:[{id:1,img:"https://sohanews.sohacdn.com/thumb_w/660/160588918557773824/2021/10/25/photo1635121949916-1635121950037228899134.jpeg"}]}):Object(d.jsx)(k,{}),Object(d.jsxs)("div",{class:"icons",children:[Object(d.jsx)("i",{class:"fas fa-bars",id:"menu-bars"}),Object(d.jsx)("i",{class:"fas fa-search",id:"search-icon"}),Object(d.jsx)("i",{class:"fas fa-heart"}),Object(d.jsx)(u.Link,{to:"/cart",class:"fas fa-shopping-cart"})]})]})},A=n(124);var D=function(e){var t=e.value,n=e.color;return Object(d.jsxs)("div",{className:"rating",children:[Object(d.jsx)("span",{children:Object(d.jsx)("i",{style:{color:n,fontSize:"1.7rem"},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(d.jsx)("span",{children:Object(d.jsx)("i",{style:{color:n,fontSize:"1.7rem"},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(d.jsx)("span",{children:Object(d.jsx)("i",{style:{color:n,fontSize:"1.7rem"},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(d.jsx)("span",{children:Object(d.jsx)("i",{style:{color:n,fontSize:"1.7rem"},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(d.jsx)("span",{children:Object(d.jsx)("i",{style:{color:n,fontSize:"1.7rem"},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})})]})};n(107);var N=function(e){var t=e.product;return Object(d.jsx)("div",{children:Object(d.jsx)(u.Link,{to:"product/".concat(t._id),style:{textDecoration:"none"},children:Object(d.jsxs)("div",{class:"box",style:{cursor:"pointer"},children:[Object(d.jsx)("a",{href:"#",class:"fas fa-eye"}),Object(d.jsx)(A.a.Img,{src:t.image}),Object(d.jsx)("h3",{style:{height:"50px"},children:t.name}),Object(d.jsx)(D,{value:t.rating,color:"var(--green)"}),Object(d.jsxs)("span",{children:["$",t.price]})]})})})},P="PRODUCT_LIST_REQUEST",T="PRODUCT_LIST_SUCCESS",U="PRODUCT_LIST_FAIL",G="PRODUCT_DETAIL_REQUEST",M="PRODUCT_DETAIL_SUCCESS",z="PRODUCT_DETAIL_FAIL",F=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:P,payload:[]}),e.next=4,L.a.get("/api/products/");case 4:n=e.sent,r=n.data,t({type:T,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:U,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:G,payload:[]}),t.next=4,L.a.get("/api/products/".concat(e));case 4:r=t.sent,a=r.data,n({type:M,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:z,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},$=n(117);n(108);var Q=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.productList})),n=t.loading,a=t.error,c=t.products;return Object(r.useEffect)((function(){e(F())}),[e]),console.log(n),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{class:"sub-heading",children:" our dishes "}),Object(d.jsx)("h1",{class:"heading",children:" popular dishes "}),a?Object(d.jsx)("h3",{children:a}):n?Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px"},children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(d.jsx)(i.a,{children:c.map((function(e){return Object(d.jsx)(o.a,{sm:12,md:6,lg:4,xl:3,children:Object(d.jsx)(N,{product:e})},e._id)}))})]})},Y=n(13),q=n(26),J=n(118),V=n(119),W=n(122),H=n(120),K="CART_ADD_ITEM",X="CART_REMOVE_ITEM",Z="CART_SAVE_SHIPPING_ADDRESS",ee="CART_PAYMENT_METHOD",te=function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(r,a){var c,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.a.get("/api/products/".concat(e));case 2:c=n.sent,s=c.data,r({type:K,payload:{product:s,quantity:parseInt(t)}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ne=function(e){return function(t){t({type:Z,payload:e}),localStorage.setItem("address",JSON.stringify(e))}};var re=function(e){var t=e.match,n=e.history,a=Object(r.useState)(1),c=Object(j.a)(a,2),s=c[0],l=c[1],h=Object(p.b)(),b=Object(p.c)((function(e){return e.productDetail})),O=(b.error,b.loading,b.product);return Object(r.useEffect)((function(){h(B(t.params.id))}),[h,t.params.id]),Object(d.jsxs)("div",{children:[Object(d.jsx)(u.Link,{to:"/",className:"btn btn-primary my-3",children:"Go Back"}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:4,style:{textAlign:"center"},children:Object(d.jsx)(J.a,{src:O.image,alt:O.name,style:{width:"70%"},className:"imageProduct"})}),Object(d.jsx)(o.a,{md:3,style:{marginRight:"40px"},children:Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsx)(V.a.Item,{children:Object(d.jsx)("h3",{children:O.name})}),Object(d.jsx)(V.a.Item,{children:Object(d.jsx)(D,{value:O.rating,text:"".concat(O.num_Reviews," reviews"),color:"#f8e825"})}),Object(d.jsxs)(V.a.Item,{children:["Price:$",O.price]}),Object(d.jsxs)(V.a.Item,{children:["Description:",O.description]})]})}),Object(d.jsx)(o.a,{md:3,children:Object(d.jsx)(A.a,{children:Object(d.jsxs)(V.a,{children:[Object(d.jsx)(V.a.Item,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Price:"}),Object(d.jsx)(o.a,{children:Object(d.jsxs)("strong",{children:["$",O.price]})})]})}),Object(d.jsx)(V.a.Item,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Status:"}),Object(d.jsx)(o.a,{children:Object(d.jsx)("strong",{children:O.count_Stock>0?"Instock":"Out of stock"})})]})}),O.count_Stock>0&&Object(d.jsx)(V.a.Item,{children:Object(d.jsxs)(i.a,{xs:"auto",className:"my-1",children:[Object(d.jsx)(o.a,{children:"Quantity: "}),Object(d.jsx)(o.a,{style:{margin:"auto"},children:Object(d.jsx)(W.a.Control,{as:"select",defaultValue:s,onChange:function(e){l(e.target.value)},children:Object(q.a)(Array(O.count_Stock).keys()).map((function(e){return Object(d.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(d.jsx)(V.a.Item,{children:Object(d.jsx)(H.a,{onClick:function(){n.push("/cart/".concat(t.params.id,"?qty=").concat(s))},className:"btn-block",disabled:0===O.count_Stock,style:{width:"100%"},children:"Add to cart"})})]})})})]})]})},ae=n(62);var ce=function(e){var t=e.match,n=e.history,a=e.location,c=t.params.id,s=a.search?Number(a.search.split("=")[1]):1,l=Object(p.b)();Object(r.useEffect)((function(){c&&l(te(c,s))}),[l,c,s]);var j=Object(p.c)((function(e){return e.cart})),h=j.cartItems,b=function(e){l(function(e){return function(t,n){t({type:X,payload:e}),localStorage.setItem("cart",JSON.stringify(n().cart.cartItems))}}(e))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(u.Link,{to:"/",className:"btn btn-primary my-3",children:"Go Back"}),Object(d.jsxs)(i.a,{children:[Object(d.jsxs)(o.a,{md:8,children:[Object(d.jsx)("h1",{children:"Shopping Cart"}),Object(d.jsx)(V.a,{variant:"flush",children:h.map((function(e){return Object(d.jsx)(V.a.Item,{variant:"flush",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:2,children:Object(d.jsx)(J.a,{src:"".concat(e.product.image),style:{width:"60px"},rounded:!0})}),Object(d.jsx)(o.a,{md:3,children:e.product.name}),Object(d.jsxs)(o.a,{md:2,children:["$",e.product.price]}),Object(d.jsx)(o.a,{md:2,children:Object(d.jsx)(W.a.Control,{as:"select",defaultValue:e.quantity,onChange:function(t){return l(te(e.product._id,Number(t.target.value)))},children:Object(q.a)(Array(e.product.count_Stock).keys()).map((function(e){return Object(d.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(d.jsx)(o.a,{md:1,children:Object(d.jsx)(H.a,{type:"button",variant:"light",onClick:function(){return b(e.product)},children:Object(d.jsx)("i",{className:"fas fa-trash"})})})]})},e.product._id)}))})]}),Object(d.jsx)(o.a,{md:4,children:Object(d.jsx)(A.a,{children:Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsxs)(ae.a,{children:[Object(d.jsxs)("h2",{children:["SubTotal"," ",j.cartItems.reduce((function(e,t){return e+Number(t.quantity)}),0)," ","items"]}),"$",j.cartItems.reduce((function(e,t){return e+Number(t.quantity*t.product.price)}),0).toFixed(2)]}),Object(d.jsx)(ae.a,{className:"d-grid gap-2",children:Object(d.jsx)(H.a,{type:"button",className:"btn-block",onClick:function(){n.push("/login?redirect=shipping")},children:"Process To Checkout"})})]})})})]})]})},se=n(24),ie=n(121);var oe,de=function(e){var t=e.children;return Object(d.jsx)("footer",{children:Object(d.jsx)(s.a,{children:Object(d.jsx)(i.a,{className:"justify-content-md-center",children:Object(d.jsx)(o.a,{xs:12,md:6,children:t})})})})},le=n(25),je=le.a.div(oe||(oe=Object(se.a)(["\n  h1{\n    margin-top:20px;\n    margin-bottom:40px;\n    font-size:200px\n    background:#000754;\n  }\n  #email {\n    margin-bottom: 20px;\n  }\n  #footer{\n    \n  }\n  Button{\n    margin-top:30px;  \n  }\n  .py-3{\n    margin-top:20px;\n  }\n"])));var ue,pe=function(e){var t=e.location,n=e.history,a=Object(p.b)(),c=t.search?t.search.split("=")[1]:"/",s=Object(r.useState)(""),l=Object(j.a)(s,2),h=l[0],g=l[1],y=Object(r.useState)(""),v=Object(j.a)(y,2),I=v[0],_=v[1],E=Object(p.c)((function(e){return e.userLogin})),S=E.error,C=(E.loading,E.userInfo);return console.log(S),Object(r.useEffect)((function(){C&&n.push(c)}),[n,C,c]),Object(d.jsx)(de,{children:Object(d.jsxs)(je,{children:[S?Object(d.jsxs)(ie.a,{variant:"danger",children:[Object(d.jsx)(ie.a.Heading,{children:"Oh snap! You got an error!"}),Object(d.jsx)("p",{children:S})]}):"",Object(d.jsx)("h1",{children:"Sign In"}),Object(d.jsxs)(W.a,{onSubmit:function(e){e.preventDefault(),console.log({email:h},{password:I}),a(function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(r){var a,c,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:x}),a={headers:{"Content-type":"application/json"}},n.next=5,L.a.post("/api/token/",{username:e,password:t},a);case 5:c=n.sent,s=c.data,console.log(s),r({type:m,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:f,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(h,I))},children:[Object(d.jsxs)(W.a.Group,{controlId:"email",children:[Object(d.jsx)(W.a.Label,{children:"Email Adress"}),Object(d.jsx)(W.a.Control,{style:{textTransform:"none"},type:"email",placeholder:"Enter email",value:h,onChange:function(e){return g(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"password",children:[Object(d.jsx)(W.a.Label,{children:"Password"}),Object(d.jsx)(W.a.Control,{type:"password",placeholder:"Enter password",value:I,onChange:function(e){return _(e.target.value)},name:"password"})]}),Object(d.jsx)(H.a,{variant:"primary",type:"submit",children:"Sign in"})]}),Object(d.jsx)(i.a,{className:"py-3",children:Object(d.jsxs)(o.a,{id:"footer",children:["New Customer?",Object(d.jsx)(u.Link,{to:c?"/register?redirect=".concat(c):"/register",children:"Register"})]})})]})})},he=le.a.div(ue||(ue=Object(se.a)(["\n  h1{\n    margin-top:20px;\n    margin-bottom:40px;\n    font-size:200px\n    background:#000754;\n  }\n  #email, #password, #first_name, #last_name {\n    margin-bottom: 20px;\n\n  }\n  #footer{\n    \n  }\n  Button{\n    margin-top:30px;  \n  }\n  .py-3{\n    margin-top:20px;\n  }\n"])));var be=function(e){var t=e.location,n=e.history,a=Object(p.b)(),c=t.search?t.search.split("=")[1]:"/",s=Object(r.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(""),h=Object(j.a)(u,2),x=h[0],m=h[1],f=Object(r.useState)(""),g=Object(j.a)(f,2),_=g[0],E=g[1],S=Object(r.useState)(""),C=Object(j.a)(S,2),k=C[0],R=C[1],w=Object(r.useState)(""),A=Object(j.a)(w,2),D=A[0],N=A[1],P=Object(r.useState)(""),T=Object(j.a)(P,2),U=(T[0],T[1]),G=Object(p.c)((function(e){return e.userRegister})),M=(G.error,G.loading,G.userInfo);return Object(r.useEffect)((function(){M&&n.push(c)}),[n,M,c]),Object(d.jsx)(de,{children:Object(d.jsxs)(he,{children:[Object(d.jsx)("h1",{children:"Sign Up"}),Object(d.jsxs)(W.a,{onSubmit:function(e){e.preventDefault(),console.log({first_name:k},{last_name:D},{email:o},{password:x},{confirm_password:_}),console.log(x===_),x!==_?U("Your password is not correct"):(console.log(1),a(function(e,t,n,r){return function(){var a=Object(O.a)(b.a.mark((function a(c){var s,i,o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:y}),s={headers:{"Content-type":"application/json"}},a.next=5,L.a.post("/api/register/",{first_name:e,last_name:t,email:n,password:r},s);case 5:i=a.sent,o=i.data,c({type:v,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),c({type:I,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(k,D,o,x)))},children:[Object(d.jsxs)(W.a.Group,{controlId:"first_name",children:[Object(d.jsx)(W.a.Label,{children:"Your First Name"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter your first name",value:k,onChange:function(e){return R(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"last_name",children:[Object(d.jsx)(W.a.Label,{children:"Your Last Name"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter your Last name",value:D,onChange:function(e){return N(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"email",children:[Object(d.jsx)(W.a.Label,{children:"Email Adress"}),Object(d.jsx)(W.a.Control,{style:{textTransform:"none"},type:"email",placeholder:"Enter email",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"password",children:[Object(d.jsx)(W.a.Label,{children:"Password"}),Object(d.jsx)(W.a.Control,{type:"password",placeholder:"Enter password",value:x,onChange:function(e){return m(e.target.value)},name:"password"})]}),Object(d.jsxs)(W.a.Group,{controlId:"confirm_password",children:[Object(d.jsx)(W.a.Label,{children:"Confirm Password"}),Object(d.jsx)(W.a.Control,{type:"password",placeholder:"Enter confirm password",value:_,onChange:function(e){return E(e.target.value)},name:"confirm_password"})]}),Object(d.jsx)(H.a,{variant:"primary",type:"submit",children:"Sign up"})]})]})})},Oe=n(69),xe=n(20),me="ORDER_CREATE_REQUEST",fe="ORDER_CREATE_SUCCESS",ge="ORDER_CREATE_FAIL",ye="CART_CLEAR_ITEMS",ve="ADMIN_LIST_ORDER_REQUEST",Ie="ADMIN_LIST_ORDER_SUCCESS",_e="ADMIN_LIST_ORDER_FAIL",Ee="USER_GET_ORDER",Se="LOADING",Ce="ORDER_DETAILS_FAIL",Le="USER_GET_MY_ORDER",ke="ORDER_PAY_REQUEST",Re="ORDER_PAY_SUCCESS",we="ORDER_PAY_FAIL",Ae="ORDER_PAY_RESET",De="ORDER_DELIVER_REQUEST",Ne="ORDER_DELIVER_SUCCESS",Pe="ORDER_DELIVER_FAIL",Te="ORDER_DELIVER_RESET",Ue=n(68);var Ge,Me,ze=function(e){var t=e.history,n=e.match.params.id,a=Object(r.useState)(!1),c=Object(j.a)(a,2),s=c[0],l=c[1],h=Object(p.c)((function(e){return e.orderPay})),x=h.loading,m=h.success,f=Object(p.b)(),g=Object(p.c)((function(e){return e.userLogin})).userInfo,y=Object(p.c)((function(e){return e.orderDeliver})),v=y.loading,I=y.success;Object(r.useEffect)((function(){var e,r;g||m?f((e=g.token,r=n,function(){var t=Object(O.a)(b.a.mark((function t(n){var a,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Se}),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=5,L.a.get("/api/usergetorder/".concat(r," "),a);case 5:c=t.sent,s=c.data,n({type:Ee,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:Ce,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())):E.is_Paid?t.push("/login"):window.paypal?l(!0):(console.log(window.paypal),function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AULqWoK7zngoomgGdteyAR8zwjlqfVbB-zhTe9mLOwH-xasngB-aPwTD2oDjsKbOll8oIrm2uvQp1TyQ",e.async=!0,e.onload=function(){l(!0)},document.body.append(e)}())}),[f,t,g,m,I]);var _=Object(p.c)((function(e){return e.userGetOrder})),E=_.order;return _.loading?"":Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Order : ",E._id]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:8,children:Object(d.jsxs)(V.a,{children:[Object(d.jsxs)(V.a.Item,{children:[Object(d.jsx)("h2",{children:"Shipping"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Name :"})," ",E.user.name]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Email :"}),Object(d.jsx)("a",{href:"mailto:".concat(E.user.email),children:E.user.email})]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Shipping:"}),E.shippingAddress.address," ",E.shippingAddress.city," ",E.shippingAddress.country]}),E.is_Deliveried?Object(d.jsxs)(ie.a,{variant:"info",children:["Delivered on ",E.delivered_At]}):Object(d.jsx)(ie.a,{variant:"warning",children:"Not Delivered"})]}),Object(d.jsxs)(V.a.Item,{children:[Object(d.jsx)("h2",{children:"Payment Method"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Method:"}),E.payment_Method]}),E.is_Paid?Object(d.jsxs)(ie.a,{variant:"info",children:["Paid on ",E.paid_At]}):Object(d.jsx)(ie.a,{variant:"warning",children:"Not Paid"})]}),Object(d.jsxs)(V.a.Item,{children:[Object(d.jsx)("h2",{children:"Order Items"}),0===E.orders.length?Object(d.jsxs)(ie.a,{variant:"info",children:["Order is empty ",Object(d.jsx)(u.Link,{to:"/",children:"Go Back"})]}):Object(d.jsx)(V.a,{variant:"flush",children:E.orders.map((function(e){return Object(d.jsx)(ae.a,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:2,children:Object(d.jsx)(J.a,{src:e.image,fluid:!0,rounded:!0})}),Object(d.jsx)(o.a,{children:e.name}),Object(d.jsxs)(o.a,{md:4,children:[e.qty," X $",e.price," = $",e.qty*e.price]})]})},e.product)}))})]})]})}),Object(d.jsx)(o.a,{md:4,children:Object(d.jsxs)(A.a,{children:[Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsx)(V.a.Item,{children:Object(d.jsx)("h2",{children:"Order Summary"})}),Object(d.jsxs)(V.a.Item,{children:[Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Item:"}),Object(d.jsxs)(o.a,{children:["$",E.total_Price-E.shipping_Price]})]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Shipping:"}),Object(d.jsxs)(o.a,{children:["$",E.shipping_Price]})]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Total:"}),Object(d.jsxs)(o.a,{children:["$",E.total_Price]})]})]}),!E.is_Paid&&Object(d.jsxs)(V.a.Item,{children:[x&&Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}),s?Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(d.jsx)(Ue.PayPalButton,{amount:E.total_Price,onSuccess:function(e){f(function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(r,a){var c,s,i,o,d;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:ke}),c=a(),s=c.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},n.next=6,L.a.put("/api/usergetorder/".concat(e,"/pay "),t,i);case 6:o=n.sent,d=o.data,r({type:Re,payload:d}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:we,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(E._id,e))}})]})]}),v&&Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}),g&&g.is_Admin&&!E.is_Deliveried&&Object(d.jsx)(V.a.Item,{children:Object(d.jsx)(H.a,{type:"button",className:"btn btn-block",onClick:function(){f(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n,r){var a,c,s,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:De}),a=r(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,L.a.put("/api/adminupdatedelivered/".concat(e._id),e,s);case 6:i=t.sent,o=i.data,n({type:Ne,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:Pe,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(E))},style:{height:"100%",width:"100%",transform:"translateY(-10px)"},children:"Mark As Deliver"})})]})})]})]})};var Fe=function(e){var t,n=e.history,a=Object(p.b)(),c=Object(p.c)((function(e){return e.userLogin})).userInfo;a((t=c.token,function(){var e=Object(O.a)(b.a.mark((function e(n){var r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token",t),e.prev=1,n({type:_}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=6,L.a.get("/api/profile/",r);case 6:a=e.sent,c=a.data,console.log(c),n({type:E,payload:c}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n({type:S,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()));var s=Object(p.c)((function(e){return e.userGetMyOrder})).order;Object(r.useEffect)((function(){c?(console.log("1"),a(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=3,L.a.get("/api/usergetlistorder",r);case 3:a=t.sent,c=a.data,n({type:Le,payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c.token))):n.push("/login")}),[a,n,c]);var l=le.a.div(Ge||(Ge=Object(se.a)(["\n    h2 {\n      margin-top: 20px;\n      margin-bottom: 40px;\n      font-weight: 900;\n      font-size: 25px;\n    }\n    #name {\n      margin-bottom: 20px;\n    }\n    #footer {\n    }\n    .py-3 {\n      margin-top: 20px;\n    }\n    font-size: 15px;\n  "]))),j=le.a.div(Me||(Me=Object(se.a)(["\n    h2 {\n      margin-top: 20px;\n      margin-bottom: 40px;\n      font-weight: 900;\n      font-size: 25px;\n    }\n    button {\n      padding: 5px;\n      width: 80px;\n      background-color: #000;\n      text-color: #1a1a1a;\n      margin: auto;\n      margin-left: 14px;\n    }\n  "])));return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:3,children:Object(d.jsxs)(l,{children:[Object(d.jsx)("h2",{children:"User profile"}),Object(d.jsxs)(W.a.Group,{controlId:"name",children:[Object(d.jsx)(W.a.Label,{children:"Name"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter name",value:c.name,name:"name"})]}),Object(d.jsxs)(W.a,{onSubmit:function(e){e.preventDefault()},children:[Object(d.jsxs)(W.a.Group,{controlId:"email",children:[Object(d.jsx)(W.a.Label,{children:"Email Adress"}),Object(d.jsx)(W.a.Control,{type:"email",placeholder:"Enter email",value:c.email})]}),Object(d.jsx)(H.a,{variant:"primary",type:"submit",children:"Update profile"})]})]})}),Object(d.jsx)(o.a,{md:8,style:{marginLeft:"30px"},children:Object(d.jsxs)(j,{children:[Object(d.jsx)("h2",{children:"My orders"}),Object(d.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,variant:"red",size:"sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{style:{fontSize:"20px"},children:[Object(d.jsx)("th",{class:"table-danger",style:{width:"10%",color:"#000",fontSize:"15px"},children:"ID"}),Object(d.jsx)("th",{class:"table-danger",style:{width:"20%",color:"#000",fontSize:"15px"},children:"DATE"}),Object(d.jsx)("th",{class:"table-danger",style:{width:"15%",color:"#000",fontSize:"15px"},children:"TOTAL"}),Object(d.jsx)("th",{class:"table-danger",style:{width:"35%",color:"#000",fontSize:"15px"},children:"PAID"}),Object(d.jsx)("th",{class:"table-danger",style:{width:"20%",color:"#000",fontSize:"15px"},children:"DELIVERED"})]})}),Object(d.jsx)("tbody",{children:s.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t+1}),Object(d.jsx)("td",{children:e.create_At}),Object(d.jsxs)("td",{children:[e.total_Price," $"]}),Object(d.jsx)("th",{children:e.is_Paid?e.paidAt:Object(d.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(d.jsx)("td",{children:Object(d.jsx)(xe.LinkContainer,{to:"/order/".concat(e._id,"/"),children:Object(d.jsx)(H.a,{variant:"light",className:"btn-sm",children:"Detail"})})})]})}))})]})]})})]})},Be=(n(58),n(123));var $e=function(e){var t=e.step1,n=e.step2,r=e.step3,a=e.step4;return Object(d.jsxs)(Be.a,{className:"justify-content-center mb-4",children:[Object(d.jsx)(Be.a.Item,{children:t?Object(d.jsx)(xe.LinkContainer,{to:"/login",style:{fontWeight:"600"},children:Object(d.jsx)(Be.a.Link,{children:"Login"})}):Object(d.jsx)(Be.a.Link,{disabled:!0,children:"Login"})}),Object(d.jsx)(Be.a.Item,{children:n?Object(d.jsx)(xe.LinkContainer,{to:"/shipping",style:{fontWeight:"600"},children:Object(d.jsx)(Be.a.Link,{children:"Shipping"})}):Object(d.jsx)(Be.a.Link,{disabled:!0,children:"Shipping"})}),Object(d.jsx)(Be.a.Item,{children:r?Object(d.jsx)(xe.LinkContainer,{to:"/payment",style:{fontWeight:"600"},children:Object(d.jsx)(Be.a.Link,{children:"Payment"})}):Object(d.jsx)(Be.a.Link,{disabled:!0,children:"Payment"})}),Object(d.jsx)(Be.a.Item,{children:a?Object(d.jsx)(xe.LinkContainer,{to:"/placeorder",style:{fontWeight:"600"},children:Object(d.jsx)(Be.a.Link,{children:"Place Order"})}):Object(d.jsx)(Be.a.Link,{disabled:!0,children:"Place Order"})})]})};var Qe=function(e){var t=e.history,n=Object(p.c)((function(e){return e.cart})).shipping,a=Object(p.b)(),c=Object(r.useState)(!0),s=Object(j.a)(c,2),i=s[0],o=s[1];Object(r.useEffect)((function(){setTimeout((function(){o(!1)}),1500)}));var l=Object(r.useState)(n.address?n.address:""),u=Object(j.a)(l,2),h=u[0],b=u[1],O=Object(r.useState)(n.city?n.city:""),x=Object(j.a)(O,2),m=x[0],f=x[1],g=Object(r.useState)(n.country?n.country:""),y=Object(j.a)(g,2),v=y[0],I=y[1];return Object(d.jsx)("div",{children:i?Object(d.jsx)("div",{class:"loader-wrapper",children:Object(d.jsx)("span",{class:"loader",children:Object(d.jsx)("span",{class:"loader-inner"})})}):Object(d.jsxs)(de,{children:[Object(d.jsx)($e,{step1:!0,step2:!0}),Object(d.jsxs)(W.a,{onSubmit:function(e){e.preventDefault(),a(ne({address:h,city:m,country:v})),t.push("/placeorder")},children:[Object(d.jsx)("h1",{children:"Shipping"}),Object(d.jsxs)(W.a.Group,{controlId:"address",children:[Object(d.jsx)(W.a.Label,{children:"Address"}),Object(d.jsx)(W.a.Control,{required:!0,type:"text",placeholder:"Enter your address",value:h||"",onChange:function(e){return b(e.target.value)},style:{padding:"1.5rem 1.5rem"}})]}),Object(d.jsxs)(W.a.Group,{controlId:"city",children:[Object(d.jsx)(W.a.Label,{children:"City"}),Object(d.jsx)(W.a.Control,{required:!0,type:"text",placeholder:"Enter your city",value:m||"",onChange:function(e){return f(e.target.value)},style:{padding:"1.5rem 1.5rem"}})]}),Object(d.jsxs)(W.a.Group,{controlId:"country",children:[Object(d.jsx)(W.a.Label,{children:"Country"}),Object(d.jsx)(W.a.Control,{required:!0,type:"text",placeholder:"Enter your country",value:v||"",onChange:function(e){return I(e.target.value)},style:{padding:"1.5rem 1.5rem"}})]}),Object(d.jsx)(H.a,{variant:"primary",type:"submit",style:{padding:"1.3rem 3rem"},children:"Continue"})]}),"If you are in the restaurant, please"," ",Object(d.jsx)("button",{onClick:function(){a(ne({address:"In",city:"The",country:"Restaurant"})),t.push("/placeorder")},style:{backgroundColor:"transparent",border:"none",cursor:"pointer",overflow:"hidden",outline:"none"},children:"click me !!!"})]})})};var Ye=function(e){var t=e.history,n=(e.location,Object(p.b)()),a=Object(p.c)((function(e){return e.cart}));a.itemsPrice=a.cartItems.reduce((function(e,t){return e+t.product.price*t.quantity}),0),a.shippingPrice=a.itemsPrice>500||0===a.itemsPrice?0:10,a.totalPrice=a.itemsPrice+a.shippingPrice,a.payment||t.push("/payment");var c=function(){n(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n,r){var a,c,s,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:me}),a=r(),c=a.userLogin.userInfo,console.log(c),s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=7,L.a.post("/api/order/",e,s);case 7:i=t.sent,o=i.data,n({type:fe,payload:o}),n({type:ye}),localStorage.removeItem("cartItems"),localStorage.removeItem("address"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),n({type:ge,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()}({orderItem:a.cartItems,shippingAdress:a.shipping,paymentMethod:a.payment,totalPrice:a.totalPrice,shippingPrice:a.shippingPrice,itemsPrice:a.itemsPrice}))},s=Object(p.c)((function(e){return e.orderCreate})),l=s.success,j=s.order,h=s.error;return Object(r.useEffect)((function(){l&&t.push("/order/".concat(j._id))}),[t,j,l]),Object(d.jsxs)("div",{children:[Object(d.jsx)($e,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:8,children:Object(d.jsxs)(V.a,{children:[Object(d.jsxs)(V.a.Item,{children:[Object(d.jsx)("h2",{children:"Shipping"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Address:"}),a.shipping.address," ",a.shipping.city," ",a.shipping.postalCode," ",a.shipping.country]})]}),Object(d.jsxs)(V.a.Item,{children:[Object(d.jsx)("h2",{children:"Payment Method"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Method:"}),a.payment]})]}),Object(d.jsxs)(V.a.Item,{children:[Object(d.jsx)("h2",{children:"Order Items"}),0===a.cartItems.length?Object(d.jsxs)(ie.a,{variant:"info",children:["Your cart is empty ",Object(d.jsx)(u.Link,{to:"/",children:"Go Back"})]}):Object(d.jsx)(V.a,{variant:"flush",children:a.cartItems.map((function(e){return Object(d.jsx)(ae.a,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{md:2,children:Object(d.jsx)(J.a,{src:"".concat(e.product.image),fluid:!0,rounded:!0})}),Object(d.jsx)(o.a,{children:e.product.name}),Object(d.jsxs)(o.a,{md:4,children:[e.quantity," X $",e.product.price," = $",e.quantity*e.product.price]})]})},e.product._id)}))})]})]})}),Object(d.jsx)(o.a,{md:4,children:Object(d.jsx)(A.a,{children:Object(d.jsxs)(V.a,{variant:"flush",children:[Object(d.jsx)(V.a.Item,{children:Object(d.jsx)("h2",{children:"Order Summary"})}),Object(d.jsxs)(V.a.Item,{children:[Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Item:"}),Object(d.jsxs)(o.a,{children:["$",a.itemsPrice]})]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Shipping Price:"}),Object(d.jsxs)(o.a,{children:["$",a.shippingPrice]})]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{children:"Total:"}),Object(d.jsxs)(o.a,{children:["$",a.totalPrice]})]}),h?Object(d.jsx)(V.a.Item,{children:Object(d.jsx)(ie.a,{variant:"info",children:h})}):""]}),Object(d.jsx)(H.a,{type:"button",className:"btn-block",disabled:0===a.cartItems.length,onClick:function(){return c()},children:"Place order"})]})})})]})]})};var qe=function(e){var t=e.history,n=Object(p.c)((function(e){return e.cart})).shipping,a=Object(p.b)(),c=Object(r.useState)("Paypal"),s=Object(j.a)(c,2),i=s[0],l=s[1];return n.address&&n.city&&n.country||t.push("/shipping"),Object(d.jsxs)(de,{children:[Object(d.jsx)($e,{step1:!0,step2:!0,step3:!0}),Object(d.jsx)(W.a.Group,{children:Object(d.jsxs)(W.a.Label,{as:"legend",children:["Select Method Payment",Object(d.jsx)(o.a,{children:Object(d.jsx)(W.a.Check,{type:"radio",label:"Paypal or cash",name:"paymentMethod",checked:!0,id:"paypal",onChange:function(e){return l(e.target.value)}})})]})}),Object(d.jsx)(W.a,{onSubmit:function(e){var n;e.preventDefault(),a((n=i,function(e){e({type:ee,payload:n}),localStorage.setItem("payment",JSON.stringify(n))})),t.push("/placeorder")},children:Object(d.jsx)(H.a,{type:"submit",variant:"primary",children:"Continue"})})]})};var Je=function(e){var t=e.history,n=Object(p.b)(),a=Object(p.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){var e;a?n((e=a.token,function(){var t=Object(O.a)(b.a.mark((function t(n){var r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:ve}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=5,L.a.get("/api/adminlistorder/",r);case 5:a=t.sent,c=a.data,n({type:Ie,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:_e,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())):t.push("/login")}),[n,t,a]);var c=Object(p.c)((function(e){return e.adminListOrder})),s=c.order,i=c.loading,o=c.error;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Orders"}),i?Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):o?Object(d.jsx)(ie.a,{variant:"danger",children:"You do not have permisson this action"}):Object(d.jsxs)(Oe.a,{striped:!0,bordeded:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"USER"}),Object(d.jsx)("th",{children:"DATE"}),Object(d.jsx)("th",{children:"TOTAL"}),Object(d.jsx)("th",{children:"PAID"}),Object(d.jsx)("th",{children:"DELIVERED"})]})}),Object(d.jsx)("tbody",{children:s.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t+1}),Object(d.jsx)("td",{children:e.user.name}),Object(d.jsx)("td",{children:e.create_At}),Object(d.jsxs)("td",{children:["$",e.total_Price]}),Object(d.jsx)("td",{children:e.is_Paid?e.paid_At.substring(0,10):Object(d.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(d.jsx)("td",{children:e.is_Deliveried?e.delivered_At.substring(0,10):Object(d.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(d.jsx)("td",{children:Object(d.jsx)(xe.LinkContainer,{to:"/order/".concat(e._id,"/"),children:Object(d.jsx)(H.a,{variant:"light",className:"btn-sm",children:"Detail"})})})]},e._id)}))})]})]})},Ve="ADMIN_LIST_USER_REQUEST",We="ADMIN_LIST_USER_SUCCESS",He="ADMIN_LIST_USER_FAIL",Ke="ADMIN_DELETE_PRODUCT_REQUEST",Xe="ADMIN_DELETE_PRODUCT_SUCCESS",Ze="ADMIN_DELETE_PRODUCT_FAIL",et="ADMIN_CREATE_NEW_PRODUCT_REQUEST",tt="ADMIN_CREATE_NEW_PRODUCT_SUCCESS",nt="ADMIN_CREATE_NEW_PRODUCT_FAIL",rt="ADMIN_CREATE_NEW_PRODUCT_RESET",at="ADMIN_UPDATE_PRODUCT_REQUEST",ct="ADMIN_UPDATE_PRODUCT_SUCCESS",st="ADMIN_UPDATE_PRODUCT_FAIL",it="ADMIN_UPDATE_PRODUCT_RESET";var ot=function(e){var t=e.history,n=Object(p.b)(),a=Object(p.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){var e;a?n((e=a.token,function(){var t=Object(O.a)(b.a.mark((function t(n){var r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Ve}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=5,L.a.get("/api/users/",r);case 5:a=t.sent,c=a.data,n({type:We,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:He,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())):t.push("/login")}),[n]);var c=Object(p.c)((function(e){return e.adminListUser})),s=c.loading,i=c.users,o=c.error;return console.log(i),Object(d.jsx)("div",{children:s?Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):o?Object(d.jsx)(ie.a,{variant:"danger",children:"You do not have permisson this action"}):Object(d.jsxs)(Oe.a,{striped:!0,bordeded:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"FULL NAME"}),Object(d.jsx)("th",{children:"EMAIL"}),Object(d.jsx)("th",{children:"ADMIN"})]})}),Object(d.jsx)("tbody",{children:i.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t+1}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.is_Admin?Object(d.jsx)("i",{class:"fas fa-check",style:{color:"green"}}):Object(d.jsx)("i",{class:"fas fa-times",style:{color:"red"}})})]},e._id)}))})]})})};var dt=function(e){var t=e.history,n=Object(p.b)(),a=Object(p.c)((function(e){return e.userLogin})).userInfo,c=Object(p.c)((function(e){return e.productList})),s=c.error,l=c.loading,j=c.products,u=Object(p.c)((function(e){return e.adminDeleteProduct})).success,h=Object(p.c)((function(e){return e.adminCreateNewProduct})),x=h.success,m=h.product,f=function(e,t){window.confirm("Are you sure you want to delete this product ?")&&n(function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(r){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:Ke}),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}},n.next=5,L.a.delete("/api/admindeleteproduct/".concat(e),a);case 5:n.sent.data,r({type:Xe}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:Ze,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(e,t))},g=function(e){n(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:et}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}},console.log(e),t.next=6,L.a.post("/api/admincreatenewproduct",{},r);case 6:a=t.sent,c=a.data,n({type:tt,payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:nt,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.useEffect)((function(){x&&(t.push("/admin/product/edit/".concat(m._id)),n({type:rt})),a&&a.is_Admin?n(F()):t.push("/login/")}),[n,a,u,x]),Object(d.jsxs)("div",{children:[Object(d.jsxs)(i.a,{className:"align-items-center",children:[Object(d.jsx)(o.a,{className:"my-3",children:Object(d.jsx)("h1",{children:"Products"})}),Object(d.jsx)(o.a,{className:"text-right",children:Object(d.jsx)(H.a,{className:"my-3",style:{float:"right"},onClick:function(){return g(a.token)},children:Object(d.jsx)("i",{className:"fas fa-plus",children:"Create Product"})})})]}),l?Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):s?Object(d.jsx)(ie.a,{variant:"danger",children:"You do not have permisson this action"}):Object(d.jsxs)(Oe.a,{striped:!0,bordeded:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),Object(d.jsx)("th",{children:"NAME"}),Object(d.jsx)("th",{children:"PRICE"}),Object(d.jsx)("th",{children:"CATEGORY"}),Object(d.jsx)("th",{children:"BRAND"}),Object(d.jsx)("th",{children:"Quantity"})]})}),Object(d.jsx)("tbody",{children:j.map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t+1}),Object(d.jsx)("td",{children:e.name}),Object(d.jsxs)("td",{children:["$",e.price]}),Object(d.jsx)("td",{children:e.category}),Object(d.jsx)("td",{children:e.brand}),Object(d.jsx)("td",{children:e.count_Stock}),Object(d.jsx)("td",{children:Object(d.jsx)(xe.LinkContainer,{to:"/admin/product/edit/".concat(e._id),children:Object(d.jsx)(H.a,{variant:"light",className:"btn-sm",children:Object(d.jsx)("i",{className:"fas fa-edit"})})})}),Object(d.jsx)("td",{children:Object(d.jsx)(H.a,{variant:"danger",className:"btn-sm",onClick:function(){return f(e._id,a.token)},children:Object(d.jsx)("i",{className:"fas fa-trash"})})})]},e._id)}))})]})]})};var lt=function(e){var t=e.match,n=e.history,a=Object(p.b)(),c=t.params.id,s=Object(p.c)((function(e){return e.userLogin})).userInfo,i=Object(p.c)((function(e){return e.productDetail})),o=i.error,l=i.loading,h=i.product,x=Object(r.useState)(h.name),m=Object(j.a)(x,2),f=m[0],g=m[1],y=Object(r.useState)(h.price),v=Object(j.a)(y,2),I=v[0],_=v[1],E=Object(r.useState)(h.brand),S=Object(j.a)(E,2),C=S[0],k=S[1],R=Object(r.useState)(h.category),w=Object(j.a)(R,2),A=w[0],D=w[1],N=Object(r.useState)(""),P=Object(j.a)(N,2),T=P[0],U=P[1],G=Object(r.useState)(h.count_Stock),M=Object(j.a)(G,2),z=M[0],F=M[1],Q=Object(r.useState)(h.description),Y=Object(j.a)(Q,2),q=Y[0],J=Y[1],V=Object(r.useState)(!1),K=Object(j.a)(V,2),X=(K[0],K[1]),Z=Object(p.c)((function(e){return e.adminUpdateProductStore})).success;Object(r.useEffect)((function(){Z&&(a({type:it}),n.push("/admin/products")),s&&s.is_Admin||n.push("/login"),h.name&&h._id===Number(c)?(g(h.name),_(h.price),k(h.brand),D(h.category),F(h.count_Stock),J(h.description)):a(B(c))}),[a,c,h,Z,n]);var ee=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,r,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append("image",n),r.append("product._id",c),X(!0),e.prev=5,a={header:{Content_Tpe:"multipart/form-data"}},e.next=9,L.a.post("/api/adminupload",r,a);case 9:s=e.sent,i=s.data,U(i),X(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),X(!1);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.Link,{to:"/admin/products",className:"btn btn-primary my-3",children:"Go Back"}),Object(d.jsxs)(de,{children:[Object(d.jsx)("h1",{children:"Edit Product"}),l?Object(d.jsx)($.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):o?Object(d.jsx)("h3",{children:o}):Object(d.jsxs)(W.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(r){var a,c,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,r({type:at}),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}},n.next=6,L.a.put("/api/adminupdateproduct/".concat(e._id),{product:e},a);case 6:c=n.sent,s=c.data,r({type:ct,payload:s}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r({type:st,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}({_id:h._id,name:f,brand:C,price:I,category:A,description:q,count_Stock:z},s.token))},children:[Object(d.jsxs)(W.a.Group,{controlId:"name",children:[Object(d.jsx)(W.a.Label,{children:"Name"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter your name",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"brand",children:[Object(d.jsx)(W.a.Label,{children:"Brand"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter price",value:C,onChange:function(e){return k(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"price",children:[Object(d.jsx)(W.a.Label,{children:"Price"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter price",value:I,onChange:function(e){return _(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"image",children:[Object(d.jsx)(W.a.Label,{children:"Image"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter image",value:T,onChange:function(e){return U(e.target.value)}}),Object(d.jsx)(W.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:ee})]}),Object(d.jsxs)(W.a.Group,{controlId:"category",children:[Object(d.jsx)(W.a.Label,{children:"Category"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter category",value:A,onChange:function(e){return D(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"description",children:[Object(d.jsx)(W.a.Label,{children:"Description"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter description",value:q,onChange:function(e){return J(e.target.value)}})]}),Object(d.jsxs)(W.a.Group,{controlId:"countInStock",children:[Object(d.jsx)(W.a.Label,{children:"CountInStock"}),Object(d.jsx)(W.a.Control,{type:"text",placeholder:"Enter countInStock",value:z,onChange:function(e){return F(e.target.value)}})]}),Object(d.jsx)(H.a,{variant:"primary",type:"submit",children:"Update"})]})]})]})};var jt=function(){return Object(d.jsxs)(u.HashRouter,{children:[Object(d.jsx)(w,{}),Object(d.jsx)("main",{className:"py-3",children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(Y.d,{path:"/",component:Q,exact:!0}),Object(d.jsx)(Y.d,{path:"/product/:id",component:re,exact:!0}),Object(d.jsx)(Y.d,{path:"/login/",component:pe}),Object(d.jsx)(Y.d,{path:"/register/",component:be}),Object(d.jsx)(Y.d,{path:"/shipping/",component:Qe}),Object(d.jsx)(Y.d,{path:"/placeorder/",component:Ye}),Object(d.jsx)(Y.d,{path:"/order/:id/",component:ze}),Object(d.jsx)(Y.d,{path:"/profile/",component:Fe}),Object(d.jsx)(Y.d,{path:"/cart/:id?",component:ce}),Object(d.jsx)(Y.d,{path:"/payment",component:qe}),Object(d.jsx)(Y.d,{path:"/admin/order",component:Je}),Object(d.jsx)(Y.d,{path:"/admin/users",component:ot}),Object(d.jsx)(Y.d,{path:"/admin/products",component:dt}),Object(d.jsx)(Y.d,{path:"/admin/product/edit/:id?",component:lt})]})}),Object(d.jsx)(l,{})]})},ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},pt=(n(112),n(32)),ht=n(70),bt=n(71),Ot=n(16),xt=Object(pt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0,products:[]};case T:return{loading:!1,products:t.payload};case U:return{loading:!1,error:t.payload};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(Ot.a)({loading:!0},e);case M:return{loading:!1,product:t.payload};case z:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{},payment:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:var n=t.payload,r=e.cartItems.find((function(e){return e.product._id===n.product._id}));return r?Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:Object(q.a)(e.cartItems.map((function(e){return e.product._id===n.product._id?n:e})))}):Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:[].concat(Object(q.a)(e.cartItems),[n])});case Z:return Object(Ot.a)(Object(Ot.a)({},e),{},{shipping:t.payload});case ee:return Object(Ot.a)(Object(Ot.a)({},e),{},{payment:t.payload});case X:return Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case ye:return Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:[],shipping:[],paymentMethod:{}});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,userInfo:t.payload};case f:return{loading:!1,error:t.payload};case g:return{userInfo:null};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case v:return{loading:!1,userInfo:t.payload};case I:return{loading:!1,error:t.payload};default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userProfile:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case E:return{loading:!1,userProfile:t.payload};case S:return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0};case fe:return{loading:!1,success:!0,order:t.payload};case ge:return{loading:!1,error:t.payload};default:return e}},adminListOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0,order:[]};case Ie:return{loading:!1,order:t.payload};case _e:return{loading:!1,error:t.payload};default:return e}},userGetOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{},user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(Ot.a)({},e);case Ee:return{loading:!1,order:t.payload};case Ce:return{loading:!1,error:t.payload};default:return e}},userGetMyOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:[],loading:!0},t=arguments.length>1?arguments[1]:void 0;return t.type===Le?{loading:!1,order:t.payload}:e},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return{loading:!0};case Re:return{loading:!1,success:!0};case we:return{loading:!1,error:t.payload};case Ae:return{};default:return e}},adminListUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return{loading:!0,users:[]};case We:return{loading:!1,users:t.payload};case He:return{loading:!1,error:t.payload};default:return e}},adminDeleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return{loading:!0};case Xe:return{loading:!1,success:!0};case Ze:return{loading:!1,error:t.payload};default:return e}},adminCreateNewProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return{loading:!0};case tt:return{loading:!1,success:!0,product:t.payload};case nt:return{loading:!1,error:t.payload};case rt:return{};default:return e}},adminUpdateProductStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return{loading:!0};case ct:return{loading:!1,success:!0};case st:return{loading:!1,error:t.payload};case it:return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return{loading:!0};case Ne:return{loading:!1,success:!0};case Pe:return{loading:!1,error:t.payload};case Te:return{};default:return e}}}),mt=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],ft=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,gt={cart:{cartItems:mt,shipping:localStorage.getItem("address")?JSON.parse(localStorage.getItem("address")):{}},userLogin:{userInfo:ft}},yt=[ht.a],vt=Object(pt.createStore)(xt,gt,Object(bt.composeWithDevTools)(pt.applyMiddleware.apply(void 0,yt)));c.a.render(Object(d.jsx)(p.a,{store:vt,children:Object(d.jsx)(jt,{})}),document.getElementById("root")),ut()},58:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.069ec506.chunk.js.map